<html>
  <head>
    <script src='https://cdn.jsdelivr.net/gh/aframevr/aframe@0d23f9b/dist/aframe-master.min.js'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.4.0/socket.io.slim.js"></script>
    <script src="https://3d-server.gometaworld.io/easyrtc/easyrtc.js"></script>
    <script src="/assets/space/js/networked-aframe.min.js"></script>
    <script src='https://vjs.zencdn.net/7.15.4/video.js'></script>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@0.12.4"></script>
    <script src="https://d1ktbyo67sh8fw.cloudfront.net/js/theta.umd.min.js"></script>
    <script src="https://d1ktbyo67sh8fw.cloudfront.net/js/theta-hls-plugin.umd.min.js"></script>
    <script src="https://d1ktbyo67sh8fw.cloudfront.net/js/videojs-theta-plugin.min.js"></script>
    <script
      src='https://cdn.jsdelivr.net/npm/aframe-environment-component@1.3.1/dist/aframe-environment-component.min.js'
    ></script>
    <script>
      window.module = { exports: {} }; 
      const defaultSpawnPosition = { x: 0, y: 0, z: 0 }; 
      const appConfig = { cameraPosition: { x: 0, y: 1.8, z: 1.6 }, }; 
      const entitiesEscaped = '{{entities}}';
      const roomId = '{{roomId}}';
      const spawnPoint = '{{spawnPoint}}';
    </script>

    <script
      src='https://cdn.jsdelivr.net/gh/Hypnos-phi/aframe-extras@d08cf88/dist/aframe-extras.controls.min.js'
    ></script>

    <title>{{title}} - Medverse</title>
    <meta name='description' content='{{description}}' />
    <meta property='og:title' content='{{title}}' />
    <meta property='og:description' content='{{description}}' />
    <meta property='og:image' content='{{previewImage}}' />
    <link rel='stylesheet' href='/assets/space/css/style.css' />
    <script src='/assets/space/js/look-controls.js'></script>
    <script src='/assets/space/js/movement-controls.js'></script>
    <script src='/assets/space/js/name-tag.js'></script>
    <script src='/assets/space/js/rig-animation.js'></script>
    <script src='/assets/space/js/opensea.js?v=1.0.0'></script>
    <script src='/assets/space/js/simple-navmesh-constraint.js'></script>
    <script src='/assets/space/js/magiceden.js'></script>
    <script src='/assets/space/js/open-url.js'></script>
    <script src='/assets/space/js/theta-video-api.js'></script>
    <script src='/assets/space/js/rpm-avatar.js'></script>
    <script src='/assets/space/js/naf.js?v=1.0.0'></script>
    <script src='/assets/space/js/main.js?v=1.0.3'></script>
  </head>

  <body>
    <video id="theta-player"></video>
    <a-scene
      vr-mode-ui='enabled: false'
      physx='autoLoad: true; delay: 1000; wasmUrl: https://stemkoski.github.io/A-Frame-Examples/js/physx.release.wasm; useDefaultScene: false;'
      background='color: #333;'
      shadow='type: pcfsoft'
      gltf-model='dracoDecoderPath: https://cdn.jsdelivr.net/npm/three@0.129.0/examples/js/libs/draco/gltf/;'
      inspector='url: /assets/space/js/aframe-inspector.js?v=1.1.0'
      renderer='colorManagement:true'
      naf-dynamic-room=""
    >      
      <a-assets timeout='60000'>
        <template id='avatar-template'>
          <a-entity
            class='avatar'
            networked-audio-source
            rig-animation='
              remoteId: animated-f
              clip: IDLE
              loop: repeat
              crossFadeDuration: 0.2
            '
          ></a-entity>
        </template>
        <template id='player-template'>
          <a-entity class='player' id='player'></a-entity>
        </template>
        <template id='name-template'>
          <a-text class='player' width='1.9' id='player-name' name-tag></a-text>
        </template>
        <template id='emoji-template'>
          <a-entity></a-entity>
        </template>
      </a-assets>
    </a-scene>
    <div class='gui-avatar' onclick="displayRpmIframe()">
      <img id="avatar-2d" src="https://renderapi.s3.amazonaws.com/4gDrN9mRV.png"></img>
    </div>
    
  </body>
</html>